// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.747
package layouts

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

var (
	title = "chat project"
)

func BaseLayout() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<html lang=\"en\"><head><title>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `views/layouts/base.templ`, Line: 17, Col: 17}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</title><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><link rel=\"stylesheet\" href=\"static/css/styles.css\"><link rel=\"stylesheet\" href=\"https://unpkg.com/franken-wc@0.0.2/dist/css/zinc.min.css\"><script src=\"https://cdn.jsdelivr.net/npm/uikit@3.21.6/dist/js/uikit.min.js\"></script><script src=\"https://cdn.jsdelivr.net/npm/uikit@3.21.6/dist/js/uikit-icons.min.js\"></script><!-- Alpine Plugins --><script defer src=\"https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js\"></script><script defer src=\"https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js\"></script><!-- HTMX --><script src=\"https://unpkg.com/htmx.org@1.9.10\" integrity=\"sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC\" crossorigin=\"anonymous\"></script><!-- Custom Scripts --><script>\r\nlet socket = null;\r\n\r\n\r\nwindow.onbeforeunload = function() {\r\n\tconsole.log(\"leaving\")\r\n\tlet jsonDta = {}\r\n\tjsonData[\"action\"] = \"left\"\r\n\tsocket.send(JSON.stringify(jsonData))\r\n\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n    socket = new WebSocket(\"ws://127.0.0.1:8000/ws\");\r\n\r\n    socket.onopen = () => {\r\n        console.log(\"connected\");\r\n    }\r\n\r\n    socket.onmessage = msg => {\r\n        let data = JSON.parse(msg.data);\r\n        console.log(\"Action\", data.action);\r\n\r\n          switch (data.action) {\r\n            case \"list_users\":\r\n                let ul = document.getElementById(\"online_users\");\r\n                while (ul.firstChild) ul.removeChild(ul.firstChild);\r\n\r\n                if (data.connected_users.length > 0) {\r\n                    data.connected_users.forEach(function(item){\r\n                        let li = document.createElement(\"li\");\r\n                        li.appendChild(document.createTextNode(item));\r\n                        ul.appendChild(li);\r\n                    });\r\n                }\r\n                break;\r\n            case \"broadcast\":\r\n                let textarea = document.getElementById(\"message\");\r\n                textarea.value += data.message + '\\n';\r\n                break;\r\n        }\r\n    }\r\n\r\n    socket.onclose = () => {\r\n        console.log(\"WebSocket connection closed\");\r\n    }\r\n\r\n    socket.onerror = (error) => {\r\n        console.error(\"WebSocket error: \" + error);\r\n    };\r\n\r\n    let userInput = document.getElementById(\"username\");\r\n    if (userInput) {\r\n        userInput.addEventListener(\"change\", function() {\r\n            let jsonData = {\r\n                action: \"username\",\r\n                username: this.value\r\n            };\r\n            socket.send(JSON.stringify(jsonData));\r\n        });\r\n    }\r\n});\r\n</script></head><body x-data=\"{theme: &#39;dark&#39;}\" :class=\"theme\" lang=\"en\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ_7745c5c3_Var1.Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("</body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}
